import{t as ot,a as et,c as oe}from"../chunks/DjVNrhRO.js";import"../chunks/BbcAQZ-t.js";import{p as te,g as W,b as ee,a as _,c as L,s as rt,h as ft,r as $,j as gt,f as $t,i as Me}from"../chunks/Dtbr3opF.js";import{s as K}from"../chunks/D0Vkali-.js";import{i as kt}from"../chunks/DIZ7JNA_.js";import{e as bt,i as St}from"../chunks/BZtUa7kc.js";import{r as Ht,s as ke}from"../chunks/tH0U2CTM.js";import{e as ut}from"../chunks/BKi0Csyz.js";import{b as Yt}from"../chunks/Bo4MGM3Z.js";import{i as ne}from"../chunks/IH6nDiQV.js";import{P as re,g as Ce}from"../chunks/BWME_Ccl.js";import{E as ae}from"../chunks/ClXSvq8k.js";import en from"../chunks/CBrSDip1.js";function nn(e){return new Promise((t,n)=>{re.parse(e,{header:!0,skipEmptyLines:!0,complete:r=>{const i=r.data.map(o=>({unitNumber:Number(o.unitNumber),leaseEndDate:o.leaseEndDate}));t(i)},error:r=>{n(r)}})})}const We=6048e5,rn=864e5,Fe=6e4,Te=36e5,se=Symbol.for("constructDateFrom");function st(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&se in e?e[se](t):e instanceof Date?new e.constructor(t):new Date(t)}function nt(e,t){return st(t||e,e)}function ue(e,t,n){const r=nt(e,n==null?void 0:n.in);return isNaN(t)?st(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function an(e,t,n){const r=nt(e,n==null?void 0:n.in);if(isNaN(t))return st(e,NaN);const a=r.getDate(),i=st(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}let on={};function Rt(){return on}function Wt(e,t){var u,l,s,f;const n=Rt(),r=(t==null?void 0:t.weekStartsOn)??((l=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(s=n.locale)==null?void 0:s.options)==null?void 0:f.weekStartsOn)??0,a=nt(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function _t(e,t){return Wt(e,{...t,weekStartsOn:1})}function Oe(e,t){const n=nt(e,t==null?void 0:t.in),r=n.getFullYear(),a=st(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=_t(a),o=st(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const u=_t(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function le(e){const t=nt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function sn(e,...t){const n=st.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function fe(e,t){const n=nt(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function un(e,t,n){const[r,a]=sn(n==null?void 0:n.in,e,t),i=fe(r),o=fe(a),u=+i-le(i),l=+o-le(o);return Math.round((u-l)/rn)}function ln(e,t){const n=Oe(e,t),r=st(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),_t(r)}function fn(e,t,n){return an(e,t*12,n)}function dn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hn(e){return!(!dn(e)&&typeof e!="number"||isNaN(+nt(e)))}function cn(e,t){const n=nt(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const gn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mn=(e,t,n)=>{let r;const a=gn[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ut(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const vn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wn={date:Ut({formats:vn,defaultWidth:"full"}),time:Ut({formats:pn,defaultWidth:"full"}),dateTime:Ut({formats:yn,defaultWidth:"full"})},bn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sn=(e,t,n,r)=>bn[e];function Dt(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):o;a=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[u]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const xn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Pn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wn=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Fn={ordinalNumber:Wn,era:Dt({values:xn,defaultWidth:"wide"}),quarter:Dt({values:Dn,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dt({values:Pn,defaultWidth:"wide"}),day:Dt({values:Mn,defaultWidth:"wide"}),dayPeriod:Dt({values:kn,defaultWidth:"wide",formattingValues:Cn,defaultFormattingWidth:"wide"})};function Pt(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?On(u,h=>h.test(o)):Tn(u,h=>h.test(o));let s;s=e.valueCallback?e.valueCallback(l):l,s=n.valueCallback?n.valueCallback(s):s;const f=t.slice(o.length);return{value:s,rest:f}}}function Tn(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function On(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function En(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=t.slice(a.length);return{value:o,rest:u}}}const $n=/^(\d+)(th|st|nd|rd)?/i,Hn=/\d+/i,Yn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_n={any:[/^b/i,/^(a|c)/i]},Nn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ln={any:[/1/i,/2/i,/3/i,/4/i]},Rn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},An={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},In={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Un={ordinalNumber:En({matchPattern:$n,parsePattern:Hn,valueCallback:e=>parseInt(e,10)}),era:Pt({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:_n,defaultParseWidth:"any"}),quarter:Pt({matchPatterns:Nn,defaultMatchWidth:"wide",parsePatterns:Ln,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pt({matchPatterns:Rn,defaultMatchWidth:"wide",parsePatterns:zn,defaultParseWidth:"any"}),day:Pt({matchPatterns:Bn,defaultMatchWidth:"wide",parsePatterns:An,defaultParseWidth:"any"}),dayPeriod:Pt({matchPatterns:jn,defaultMatchWidth:"any",parsePatterns:In,defaultParseWidth:"any"})},qn={code:"en-US",formatDistance:mn,formatLong:wn,formatRelative:Sn,localize:Fn,match:Un,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Gn(e,t){const n=nt(e,t==null?void 0:t.in);return un(n,cn(n))+1}function Qn(e,t){const n=nt(e,t==null?void 0:t.in),r=+_t(n)-+ln(n);return Math.round(r/We)+1}function Ee(e,t){var f,h,y,w;const n=nt(e,t==null?void 0:t.in),r=n.getFullYear(),a=Rt(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(y=a.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,o=st((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const u=Wt(o,t),l=st((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const s=Wt(l,t);return+n>=+u?r+1:+n>=+s?r:r-1}function Xn(e,t){var u,l,s,f;const n=Rt(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(s=n.locale)==null?void 0:s.options)==null?void 0:f.firstWeekContainsDate)??1,a=Ee(e,t),i=st((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Wt(i,t)}function Jn(e,t){const n=nt(e,t==null?void 0:t.in),r=+Wt(n,t)-+Xn(n,t);return Math.round(r/We)+1}function I(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ct={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return I(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):I(n+1,2)},d(e,t){return I(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return I(e.getHours()%12||12,t.length)},H(e,t){return I(e.getHours(),t.length)},m(e,t){return I(e.getMinutes(),t.length)},s(e,t){return I(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return I(a,t.length)}},yt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},de={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return ct.y(e,t)},Y:function(e,t,n,r){const a=Ee(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return I(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):I(i,t.length)},R:function(e,t){const n=Oe(e);return I(n,t.length)},u:function(e,t){const n=e.getFullYear();return I(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return I(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return I(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ct.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return I(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Jn(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):I(a,t.length)},I:function(e,t,n){const r=Qn(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):I(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ct.d(e,t)},D:function(e,t,n){const r=Gn(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):I(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return I(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return I(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return I(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=yt.noon:r===0?a=yt.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=yt.evening:r>=12?a=yt.afternoon:r>=4?a=yt.morning:a=yt.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ct.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ct.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):I(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):I(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ct.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ct.s(e,t)},S:function(e,t){return ct.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ce(r);case"XXXX":case"XX":return vt(r);case"XXXXX":case"XXX":default:return vt(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ce(r);case"xxxx":case"xx":return vt(r);case"xxxxx":case"xxx":default:return vt(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+he(r,":");case"OOOO":default:return"GMT"+vt(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+he(r,":");case"zzzz":default:return"GMT"+vt(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return I(r,t.length)},T:function(e,t,n){return I(+e,t.length)}};function he(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+I(i,2)}function ce(e,t){return e%60===0?(e>0?"-":"+")+I(Math.abs(e)/60,2):vt(e,t)}function vt(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=I(Math.trunc(r/60),2),i=I(r%60,2);return n+a+t+i}const ge=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$e=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Vn=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return ge(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ge(r,t)).replace("{{time}}",$e(a,t))},Zn={p:$e,P:Vn},Kn=/^D+$/,tr=/^Y+$/,er=["D","DD","YY","YYYY"];function nr(e){return Kn.test(e)}function rr(e){return tr.test(e)}function ar(e,t,n){const r=ir(e,t,n);if(console.warn(r),er.includes(e))throw new RangeError(r)}function ir(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const or=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ur=/^'([^]*?)'?$/,lr=/''/g,fr=/[a-zA-Z]/;function wt(e,t,n){var f,h,y,w;const r=Rt(),a=r.locale??qn,i=r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((w=(y=r.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,u=nt(e,n==null?void 0:n.in);if(!hn(u))throw new RangeError("Invalid time value");let l=t.match(sr).map(D=>{const H=D[0];if(H==="p"||H==="P"){const T=Zn[H];return T(D,a.formatLong)}return D}).join("").match(or).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const H=D[0];if(H==="'")return{isToken:!1,value:dr(D)};if(de[H])return{isToken:!0,value:D};if(H.match(fr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return{isToken:!1,value:D}});a.localize.preprocessor&&(l=a.localize.preprocessor(u,l));const s={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(D=>{if(!D.isToken)return D.value;const H=D.value;(rr(H)||nr(H))&&ar(H,t,String(e));const T=de[H[0]];return T(u,H,a.localize,s)}).join("")}function dr(e){const t=e.match(ur);return t?t[1].replace(lr,"'"):e}function hr(e,t){const n=()=>st(t==null?void 0:t.in,NaN),a=vr(e);let i;if(a.date){const s=pr(a.date,2);i=yr(s.restDateString,s.year)}if(!i||isNaN(+i))return n();const o=+i;let u=0,l;if(a.time&&(u=wr(a.time),isNaN(u)))return n();if(a.timezone){if(l=br(a.timezone),isNaN(l))return n()}else{const s=new Date(o+u),f=nt(0,t==null?void 0:t.in);return f.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),f.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),f}return nt(o+u+l,t==null?void 0:t.in)}const Tt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vr(e){const t={},n=e.split(Tt.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Tt.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Tt.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Tt.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function pr(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function yr(e,t){if(t===null)return new Date(NaN);const n=e.match(cr);if(!n)return new Date(NaN);const r=!!n[4],a=Mt(n[1]),i=Mt(n[2])-1,o=Mt(n[3]),u=Mt(n[4]),l=Mt(n[5])-1;if(r)return Mr(t,u,l)?Sr(t,u,l):new Date(NaN);{const s=new Date(0);return!Dr(t,i,o)||!Pr(t,a)?new Date(NaN):(s.setUTCFullYear(t,i,Math.max(a,o)),s)}}function Mt(e){return e?parseInt(e):1}function wr(e){const t=e.match(gr);if(!t)return NaN;const n=qt(t[1]),r=qt(t[2]),a=qt(t[3]);return kr(n,r,a)?n*Te+r*Fe+a*1e3:NaN}function qt(e){return e&&parseFloat(e.replace(",","."))||0}function br(e){if(e==="Z")return 0;const t=e.match(mr);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Cr(r,a)?n*(r*Te+a*Fe):NaN}function Sr(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const xr=[31,null,31,30,31,30,31,31,30,31,30,31];function He(e){return e%400===0||e%4===0&&e%100!==0}function Dr(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(xr[t]||(He(e)?29:28))}function Pr(e,t){return t>=1&&t<=(He(e)?366:365)}function Mr(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function kr(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Cr(e,t){return t>=0&&t<=59}function me(e,t){const n=[],r={},a=i=>{r[i]=(r[i]||0)+1};for(const i of e){const o=hr(i.leaseEndDate),u=fn(o,1);let l=null,s=0;for(;s<365;){if(s===0){const f=u,h=wt(f,"yyyy-MM-dd");if((r[h]||0)<t){l=f,a(h);break}}else{const f=ue(u,s),h=wt(f,"yyyy-MM-dd");if((r[h]||0)<t){l=f,a(h);break}const y=ue(u,-s),w=wt(y,"yyyy-MM-dd");if((r[w]||0)<t){l=y,a(w);break}}s++}l||(l=u,a(wt(u,"yyyy-MM-dd"))),n.push({unitNumber:i.unitNumber,originalLeaseEndDate:wt(o,"yyyy-MM-dd"),optimizedLeaseEndDate:wt(l,"yyyy-MM-dd")})}return{assignments:n,distribution:r}}function Wr(e,t){const n=new ae;let r=10;n.setFontSize(12),n.text("Lease Optimization Report",10,r),r+=10,n.text("Lease Details:",10,r),r+=10,n.text("Unit Number",10,r),n.text("Original Lease End",50,r),n.text("Optimized Lease End",110,r),r+=10,e.forEach(a=>{r>280&&(n.addPage(),r=10),n.text(String(a.unitNumber),10,r),n.text(a.originalLeaseEndDate,50,r),n.text(a.optimizedLeaseEndDate,110,r),r+=10}),r+=10,n.text("Lease Distribution Summary:",10,r),r+=10,Object.entries(t).forEach(([a,i])=>{r>280&&(n.addPage(),r=10),n.text(`${a}: ${i}`,10,r),r+=10}),n.save("Lease_Optimization_Report.pdf")}var Fr=ot('<div class="error svelte-1shx0kg"> </div>'),Tr=ot('<tr><td class="svelte-1shx0kg"> </td><td class="svelte-1shx0kg"> </td><td class="svelte-1shx0kg"> </td></tr>'),Or=ot('<h2>Preview</h2> <table class="svelte-1shx0kg"><thead><tr><th class="svelte-1shx0kg">Unit Number</th><th class="svelte-1shx0kg">Original Lease End Date</th><th class="svelte-1shx0kg">Optimized Lease End Date</th></tr></thead><tbody></tbody></table> <button class="svelte-1shx0kg">Download PDF Report</button>',1),Er=ot('<div class="container svelte-1shx0kg"><h1>Lease Optimizer</h1> <!> <div><label for="fileInput" class="svelte-1shx0kg">Upload CSV File:</label> <input id="fileInput" type="file" accept=".csv" class="svelte-1shx0kg"></div> <div><label for="maxLeases" class="svelte-1shx0kg">Max Leases Per Day:</label> <input id="maxLeases" type="number" min="1" class="svelte-1shx0kg"></div> <!></div>');function $r(e,t){te(t,!1);let n=ft(3),r=[],a=ft([]),i={},o=ft("");async function u(k){const C=k.target;if(C.files&&C.files.length>0){const E=C.files[0];if(!E.name.endsWith(".csv")){rt(o,"Please select a valid CSV file.");return}try{r=await nn(E);const S=me(r,W(n));rt(a,S.assignments),i=S.distribution,rt(o,"")}catch(S){rt(o,"Error processing CSV file."),console.error(S)}}}function l(k){const C=k.target;if(rt(n,Number(C.value)),r.length>0){const E=me(r,W(n));rt(a,E.assignments),i=E.distribution}}function s(){if(W(a).length===0){rt(o,"No data available to generate PDF.");return}Wr(W(a),i)}ne();var f=Er(),h=_(L(f),2);{var y=k=>{var C=Fr(),E=L(C,!0);$(C),gt(()=>K(E,W(o))),et(k,C)};kt(h,k=>{W(o)&&k(y)})}var w=_(h,2),D=_(L(w),2);$(w);var H=_(w,2),T=_(L(H),2);Ht(T),$(H);var Q=_(H,2);{var Z=k=>{var C=Or(),E=_($t(C),2),S=_(L(E));bt(S,5,()=>W(a),St,(A,z)=>{var B=Tr(),N=L(B),at=L(N,!0);$(N);var v=_(N),g=L(v,!0);$(v);var d=_(v),c=L(d,!0);$(d),$(B),gt(()=>{K(at,W(z).unitNumber),K(g,W(z).originalLeaseEndDate),K(c,W(z).optimizedLeaseEndDate)}),et(A,B)}),$(S),$(E);var O=_(E,2);ut("click",O,s),et(k,C)};kt(Q,k=>{W(a).length>0&&k(Z)})}$(f),ut("change",D,u),Yt(T,()=>W(n),k=>rt(n,k)),ut("input",T,l),et(e,f),ee()}var Hr=ot('<div class="month-input svelte-awgh18"><label class="svelte-awgh18"> </label> <input type="number" min="0"></div>'),Yr=ot('<div class="container svelte-awgh18"><h1>Lease PDF Generator</h1> <div class="input-group svelte-awgh18"><label for="csvFile">Upload CSV File:</label> <input id="csvFile" type="file" accept=".csv"></div> <div class="input-group svelte-awgh18"><h2>Monthly Goals (Max Leases Allowed)</h2> <!></div> <button class="svelte-awgh18">Generate PDF</button></div>');function _r(e,t){te(t,!1);const n=["January","February","March","April","May","June","July","August","September","October","November","December"];let r=[],a=ft(Array(12).fill(5)),i=new Date().getFullYear(),o=i+1;function u(k){const C=k.target.files[0];C&&re.parse(C,{header:!0,skipEmptyLines:!0,complete(E){r=E.data.map(S=>{const O=new Date(S["lease end date"]);return isNaN(O.getTime())?(console.warn(`Invalid lease end date for unit ${S["Unit number"]}: ${S["lease end date"]}`),null):{unit:S["Unit number"],leaseEnd:O}}).filter(S=>S!==null).sort((S,O)=>S.leaseEnd-O.leaseEnd)},error(E){console.error("Error parsing CSV: ",E)}})}function l(k,C){let E=[],S=new Date(k,C,1),O=0;for(;S.getDay()!==1&&O<10;)S.setDate(S.getDate()+1),O++;if(O>=10)return console.warn(`Could not find a Monday for ${n[C]} ${k} in 10 iterations.`),E;for(;S.getMonth()===C;)E.push(new Date(S)),S.setDate(S.getDate()+7);return E}async function s(k,C,E=!1){const S=document.createElement("div");S.style.position="absolute",S.style.top="-99999px",S.style.left="-99999px",S.style.width="2000px",S.style.backgroundColor="#fff",S.style.color="#000",S.style.overflow="visible",S.innerHTML=k,document.body.appendChild(S),await new Promise(v=>setTimeout(v,600));const O=await en(S,{scale:2}),A=O.toDataURL("image/png"),z=C.internal.pageSize.getWidth(),B=C.internal.pageSize.getHeight();let N=z,at=O.height*z/O.width;at>B&&(at=B,N=O.width*B/O.height),E&&C.addPage(),C.addImage(A,"PNG",0,0,N,at),document.body.removeChild(S)}function f(){let k=Array.from({length:12},()=>[]);r.forEach(S=>{if(S.leaseEnd.getFullYear()===i){let O=S.leaseEnd.getMonth();k[O].push(`${S.unit} (${S.leaseEnd.toISOString().split("T")[0]})`)}});let C=Math.max(...k.map(S=>S.length)),E="";for(let S=0;S<C;S++){let O="";for(let A=0;A<12;A++)O+=`<td style="text-align:center;">${k[A][S]||""}</td>`;E+=`<tr>${O}</tr>`}return`
        <div style="
          font-family: sans-serif;
          padding: 10px;
          width: 2000px;
          background-color: #fff;
          color: #000;
        ">
           <h2 style="text-align:center;">Current Year Lease End Dates (${i})</h2>
           <table border="1" cellspacing="0" cellpadding="5"
                  style="border-collapse: collapse; width: 100%; table-layout: fixed;">
              <thead>
                 <tr>
                   ${n.map(S=>`<th style="text-align:center;">${S}</th>`).join("")}
                 </tr>
              </thead>
              <tbody>
                ${E}
              </tbody>
           </table>
        </div>
      `}function h(){let k=Array.from({length:12},()=>[]),C=Array(12).fill(0);r.forEach(O=>{let A=O.leaseEnd.getMonth(),z=A;C[A]<Number(W(a)[A])?z=A:A>0&&C[A-1]<Number(W(a)[A-1])?z=A-1:A<11&&C[A+1]<Number(W(a)[A+1])?z=A+1:z=A,C[z]+=1;let B=l(o,z);if(B.length===0){console.warn(`No Mondays found for ${n[z]} ${o}`);return}let N=(C[z]-1)%B.length,v=B[N].toISOString().split("T")[0];k[z].push({unit:O.unit,recommendedDate:v})});let E=Math.max(...k.map(O=>O.length)),S="";for(let O=0;O<E;O++){let A="";for(let z=0;z<12;z++)k[z][O]?A+=`<td style="text-align:center;">${k[z][O].unit} (${k[z][O].recommendedDate})</td>`:A+='<td style="text-align:center;"></td>';S+=`<tr>${A}</tr>`}return`
        <div style="
          font-family: sans-serif;
          padding: 10px;
          width: 2000px;
          background-color: #fff;
          color: #000;
        ">
           <h2 style="text-align:center;">Lease Recommendation for Next Year (${o})</h2>
           <table border="1" cellspacing="0" cellpadding="5"
                  style="border-collapse: collapse; width: 100%; table-layout: fixed;">
              <thead>
                 <tr>
                   ${n.map(O=>`<th style="text-align:center;">${O}</th>`).join("")}
                 </tr>
              </thead>
              <tbody>
                ${S}
              </tbody>
           </table>
        </div>
      `}async function y(){const k=new ae("l","mm","a4"),C=f(),E=h();await s(C,k,!1),await s(E,k,!0),k.save("leases.pdf")}ne();var w=Yr(),D=_(L(w),2),H=_(L(D),2);$(D);var T=_(D,2),Q=_(L(T),2);bt(Q,1,()=>n,St,(k,C,E)=>{var S=Hr(),O=L(S),A=L(O);$(O);var z=_(O,2);Ht(z),$(S),gt(()=>{K(A,`${W(C)??""}:`),ke(z,"placeholder",`Goal for ${W(C)??""}`)}),Yt(z,()=>W(a)[E],B=>Me(a,W(a)[E]=B)),et(k,S)}),$(T);var Z=_(T,2);$(w),ut("change",H,u),ut("click",Z,y),et(e,w),ee()}var Ot={exports:{}},Nr=Ot.exports,ve;function Lr(){return ve||(ve=1,function(e,t){(function(n,r){e.exports=r()})(Nr,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",o="second",u="minute",l="hour",s="day",f="week",h="month",y="quarter",w="year",D="date",H="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(g){var d=["th","st","nd","rd"],c=g%100;return"["+g+(d[(c-20)%10]||d[c]||d[0])+"]"}},k=function(g,d,c){var p=String(g);return!p||p.length>=d?g:""+Array(d+1-p.length).join(c)+g},C={s:k,z:function(g){var d=-g.utcOffset(),c=Math.abs(d),p=Math.floor(c/60),m=c%60;return(d<=0?"+":"-")+k(p,2,"0")+":"+k(m,2,"0")},m:function g(d,c){if(d.date()<c.date())return-g(c,d);var p=12*(c.year()-d.year())+(c.month()-d.month()),m=d.clone().add(p,h),x=c-m<0,b=d.clone().add(p+(x?-1:1),h);return+(-(p+(c-m)/(x?m-b:b-m))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:h,y:w,w:f,d:s,D,h:l,m:u,s:o,ms:i,Q:y}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return g===void 0}},E="en",S={};S[E]=Z;var O="$isDayjsObject",A=function(g){return g instanceof at||!(!g||!g[O])},z=function g(d,c,p){var m;if(!d)return E;if(typeof d=="string"){var x=d.toLowerCase();S[x]&&(m=x),c&&(S[x]=c,m=x);var b=d.split("-");if(!m&&b.length>1)return g(b[0])}else{var M=d.name;S[M]=d,m=M}return!p&&m&&(E=m),m||!p&&E},B=function(g,d){if(A(g))return g.clone();var c=typeof d=="object"?d:{};return c.date=g,c.args=arguments,new at(c)},N=C;N.l=z,N.i=A,N.w=function(g,d){return B(g,{locale:d.$L,utc:d.$u,x:d.$x,$offset:d.$offset})};var at=function(){function g(c){this.$L=z(c.locale,null,!0),this.parse(c),this.$x=this.$x||c.x||{},this[O]=!0}var d=g.prototype;return d.parse=function(c){this.$d=function(p){var m=p.date,x=p.utc;if(m===null)return new Date(NaN);if(N.u(m))return new Date;if(m instanceof Date)return new Date(m);if(typeof m=="string"&&!/Z$/i.test(m)){var b=m.match(T);if(b){var M=b[2]-1||0,Y=(b[7]||"0").substring(0,3);return x?new Date(Date.UTC(b[1],M,b[3]||1,b[4]||0,b[5]||0,b[6]||0,Y)):new Date(b[1],M,b[3]||1,b[4]||0,b[5]||0,b[6]||0,Y)}}return new Date(m)}(c),this.init()},d.init=function(){var c=this.$d;this.$y=c.getFullYear(),this.$M=c.getMonth(),this.$D=c.getDate(),this.$W=c.getDay(),this.$H=c.getHours(),this.$m=c.getMinutes(),this.$s=c.getSeconds(),this.$ms=c.getMilliseconds()},d.$utils=function(){return N},d.isValid=function(){return this.$d.toString()!==H},d.isSame=function(c,p){var m=B(c);return this.startOf(p)<=m&&m<=this.endOf(p)},d.isAfter=function(c,p){return B(c)<this.startOf(p)},d.isBefore=function(c,p){return this.endOf(p)<B(c)},d.$g=function(c,p,m){return N.u(c)?this[p]:this.set(m,c)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(c,p){var m=this,x=!!N.u(p)||p,b=N.p(c),M=function(J,G){var tt=N.w(m.$u?Date.UTC(m.$y,G,J):new Date(m.$y,G,J),m);return x?tt:tt.endOf(s)},Y=function(J,G){return N.w(m.toDate()[J].apply(m.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(G)),m)},F=this.$W,P=this.$M,R=this.$D,j="set"+(this.$u?"UTC":"");switch(b){case w:return x?M(1,0):M(31,11);case h:return x?M(1,P):M(0,P+1);case f:var U=this.$locale().weekStart||0,q=(F<U?F+7:F)-U;return M(x?R-q:R+(6-q),P);case s:case D:return Y(j+"Hours",0);case l:return Y(j+"Minutes",1);case u:return Y(j+"Seconds",2);case o:return Y(j+"Milliseconds",3);default:return this.clone()}},d.endOf=function(c){return this.startOf(c,!1)},d.$set=function(c,p){var m,x=N.p(c),b="set"+(this.$u?"UTC":""),M=(m={},m[s]=b+"Date",m[D]=b+"Date",m[h]=b+"Month",m[w]=b+"FullYear",m[l]=b+"Hours",m[u]=b+"Minutes",m[o]=b+"Seconds",m[i]=b+"Milliseconds",m)[x],Y=x===s?this.$D+(p-this.$W):p;if(x===h||x===w){var F=this.clone().set(D,1);F.$d[M](Y),F.init(),this.$d=F.set(D,Math.min(this.$D,F.daysInMonth())).$d}else M&&this.$d[M](Y);return this.init(),this},d.set=function(c,p){return this.clone().$set(c,p)},d.get=function(c){return this[N.p(c)]()},d.add=function(c,p){var m,x=this;c=Number(c);var b=N.p(p),M=function(P){var R=B(x);return N.w(R.date(R.date()+Math.round(P*c)),x)};if(b===h)return this.set(h,this.$M+c);if(b===w)return this.set(w,this.$y+c);if(b===s)return M(1);if(b===f)return M(7);var Y=(m={},m[u]=r,m[l]=a,m[o]=n,m)[b]||1,F=this.$d.getTime()+c*Y;return N.w(F,this)},d.subtract=function(c,p){return this.add(-1*c,p)},d.format=function(c){var p=this,m=this.$locale();if(!this.isValid())return m.invalidDate||H;var x=c||"YYYY-MM-DDTHH:mm:ssZ",b=N.z(this),M=this.$H,Y=this.$m,F=this.$M,P=m.weekdays,R=m.months,j=m.meridiem,U=function(G,tt,lt,it){return G&&(G[tt]||G(p,x))||lt[tt].slice(0,it)},q=function(G){return N.s(M%12||12,G,"0")},J=j||function(G,tt,lt){var it=G<12?"AM":"PM";return lt?it.toLowerCase():it};return x.replace(Q,function(G,tt){return tt||function(lt){switch(lt){case"YY":return String(p.$y).slice(-2);case"YYYY":return N.s(p.$y,4,"0");case"M":return F+1;case"MM":return N.s(F+1,2,"0");case"MMM":return U(m.monthsShort,F,R,3);case"MMMM":return U(R,F);case"D":return p.$D;case"DD":return N.s(p.$D,2,"0");case"d":return String(p.$W);case"dd":return U(m.weekdaysMin,p.$W,P,2);case"ddd":return U(m.weekdaysShort,p.$W,P,3);case"dddd":return P[p.$W];case"H":return String(M);case"HH":return N.s(M,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return J(M,Y,!0);case"A":return J(M,Y,!1);case"m":return String(Y);case"mm":return N.s(Y,2,"0");case"s":return String(p.$s);case"ss":return N.s(p.$s,2,"0");case"SSS":return N.s(p.$ms,3,"0");case"Z":return b}return null}(G)||b.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(c,p,m){var x,b=this,M=N.p(p),Y=B(c),F=(Y.utcOffset()-this.utcOffset())*r,P=this-Y,R=function(){return N.m(b,Y)};switch(M){case w:x=R()/12;break;case h:x=R();break;case y:x=R()/3;break;case f:x=(P-F)/6048e5;break;case s:x=(P-F)/864e5;break;case l:x=P/a;break;case u:x=P/r;break;case o:x=P/n;break;default:x=P}return m?x:N.a(x)},d.daysInMonth=function(){return this.endOf(h).$D},d.$locale=function(){return S[this.$L]},d.locale=function(c,p){if(!c)return this.$L;var m=this.clone(),x=z(c,p,!0);return x&&(m.$L=x),m},d.clone=function(){return N.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},g}(),v=at.prototype;return B.prototype=v,[["$ms",i],["$s",o],["$m",u],["$H",l],["$W",s],["$M",h],["$y",w],["$D",D]].forEach(function(g){v[g[1]]=function(d){return this.$g(d,g[0],g[1])}}),B.extend=function(g,d){return g.$i||(g(d,at,B),g.$i=!0),B},B.locale=z,B.isDayjs=A,B.unix=function(g){return B(1e3*g)},B.en=S[E],B.Ls=S,B.p={},B})}(Ot)),Ot.exports}var Rr=Lr();const V=Ce(Rr);var Et={exports:{}},zr=Et.exports,pe;function Br(){return pe||(pe=1,function(e,t){(function(n,r){e.exports=r()})(zr,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})}(Et)),Et.exports}var Ar=Br();const jr=Ce(Ar);function Ye(e,t,n,r,a){r=r||{};var i=1.15,o=a.internal.scaleFactor,u=a.internal.getFontSize()/o,l=a.getLineHeightFactor?a.getLineHeightFactor():i,s=u*l,f=/\r\n|\r|\n/g,h="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof e=="string"?e.split(f):e,y=h.length||1),n+=u*(2-i),r.valign==="middle"?n-=y/2*s:r.valign==="bottom"&&(n-=y*s),r.halign==="center"||r.halign==="right"){var w=u;if(r.halign==="center"&&(w*=.5),h&&y>=1){for(var D=0;D<h.length;D++)a.text(h[D],t-a.getStringUnitWidth(h[D])*w,n),n+=s;return a}t-=a.getStringUnitWidth(e)*w}return r.halign==="justify"?a.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(e,t,n),a}var ye={},xt=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:ye=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,a,i;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),u=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){u=t.fontStyle;var s=this.getFontList()[l];s&&s.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(s[0]),u=s[0])}if(this.jsPDFDocument.setFont(l,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var f=e.unifyColor(t.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=e.unifyColor(t.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=e.unifyColor(t.lineColor),f&&(i=this.jsPDFDocument).setDrawColor.apply(i,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,a,i){return this.jsPDFDocument.rect(t,n,r,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return ye||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Vt=function(e,t){return Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Vt(e,t)};function _e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vt(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ne=function(e){_e(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function Ir(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Ur(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Nt(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],a=r.map(function(i){return n.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function Le(e,t,n,r){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=Re(a,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function Re(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function zt(e,t){var n,r,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function ze(e,t){var n=zt(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function qr(e,t,n,r,a){var i={},o=1.3333333333333333,u=Gt(t,function(k){return a.getComputedStyle(k).backgroundColor});u!=null&&(i.fillColor=u);var l=Gt(t,function(k){return a.getComputedStyle(k).color});l!=null&&(i.textColor=l);var s=Qr(r,n);s&&(i.cellPadding=s);var f="borderTopColor",h=o*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var w=(parseFloat(y)||0)/h;w&&(i.lineWidth=w)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?f="borderRightColor":i.lineWidth.bottom?f="borderBottomColor":i.lineWidth.left&&(f="borderLeftColor"));var D=Gt(t,function(k){return a.getComputedStyle(k)[f]});D!=null&&(i.lineColor=D);var H=["left","right","center","justify"];H.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),H=["middle","bottom","top"],H.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var T=parseInt(r.fontSize||"");isNaN(T)||(i.fontSize=T/o);var Q=Gr(r);Q&&(i.fontStyle=Q);var Z=(r.fontFamily||"").toLowerCase();return e.indexOf(Z)!==-1&&(i.font=Z),i}function Gr(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Gt(e,t){var n=Be(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Be(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:Be(e.parentElement,t):n}function Qr(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=n.map(function(u){return parseInt(u||"0")/r}),o=zt(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function Ae(e,t,n,r,a){var i,o;r===void 0&&(r=!1),a===void 0&&(a=!1);var u;typeof t=="string"?u=n.document.querySelector(t):u=t;var l=Object.keys(e.getFontList()),s=e.scaleFactor(),f=[],h=[],y=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:f,body:h,foot:y};for(var w=0;w<u.rows.length;w++){var D=u.rows[w],H=(o=(i=D==null?void 0:D.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),T=Xr(l,s,n,D,r,a);T&&(H==="thead"?f.push(T):H==="tfoot"?y.push(T):h.push(T))}return{head:f,body:h,foot:y}}function Xr(e,t,n,r,a,i){for(var o=new Ne(r),u=0;u<r.cells.length;u++){var l=r.cells[u],s=n.getComputedStyle(l);if(a||s.display!=="none"){var f=void 0;i&&(f=qr(e,l,t,s,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:Jr(l)})}}var h=n.getComputedStyle(r);if(o.length>0&&(a||h.display!=="none"))return o}function Jr(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function Vr(e,t,n){for(var r=0,a=[e,t,n];r<a.length;r++){var i=a[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function dt(e,t,n,r,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var u=arguments[o];if(u!=null)for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(i[l]=u[l])}return i}function je(e,t){var n=new xt(e),r=n.getDocumentOptions(),a=n.getGlobalOptions();Vr(a,r,t);var i=dt({},a,r,t),o;typeof window<"u"&&(o=window);var u=Zr(a,r,t),l=Kr(a,r,t),s=ta(n,i),f=na(n,i,o);return{id:t.tableId,content:f,hooks:l,styles:u,settings:s}}function Zr(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var s=e[l],f=t[l],h=n[l];r.columnStyles=dt({},s,f,h)}else{var y=[e,t,n],w=y.map(function(D){return D[l]||{}});r[l]=dt({},w[0],w[1],w[2])}},i=0,o=Object.keys(r);i<o.length;i++){var u=o[i];a(u)}return r}function Kr(e,t,n){for(var r=[e,t,n],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=r;i<o.length;i++){var u=o[i];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function ta(e,t){var n,r,a,i,o,u,l,s,f,h,y,w,D=zt(t.margin,40/e.scaleFactor()),H=(n=ea(e,t.startY))!==null&&n!==void 0?n:D.top,T;t.showFoot===!0?T="everyPage":t.showFoot===!1?T="never":T=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var Q;t.showHead===!0?Q="everyPage":t.showHead===!1?Q="never":Q=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var Z=(i=t.useCss)!==null&&i!==void 0?i:!1,k=t.theme||(Z?"plain":"striped"),C=!!t.horizontalPageBreak,E=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:Z,theme:k,startY:H,margin:D,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(s=t.rowPageBreak)!==null&&s!==void 0?s:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:Q,showFoot:T,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(y=t.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:C,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(w=t.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function ea(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),a=e.pageNumber(),i=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;i=o===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function na(e,t,n){var r=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var u=Ae(e,t.html,n,o,t.useCss)||{};r=u.head||r,a=u.body||r,i=u.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||ra(r,a,i);return{columns:l,head:r,body:a,foot:i}}function ra(e,t,n){var r=e[0]||t[0]||n[0]||[],a=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,u;Array.isArray(r)?u=r[parseInt(i)]:u=r[i],typeof u=="object"&&!Array.isArray(u)&&(o=(u==null?void 0:u.colSpan)||1);for(var l=0;l<o;l++){var s=void 0;Array.isArray(r)?s=a.length:s=i+(l>0?"_".concat(l):"");var f={dataKey:s};a.push(f)}}),a}var Zt=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),aa=function(e){_e(t,e);function t(n,r,a,i,o,u){var l=e.call(this,n,r,u)||this;return l.cell=a,l.row=i,l.column=o,l.section=i.section,l}return t}(Zt),ia=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,a,i,o){for(var u=0,l=n;u<l.length;u++){var s=l[u],f=new aa(t,this,r,a,i,o),h=s(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var i=a[r];i(new Zt(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var i=a[r];i(new Zt(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),Ie=function(){function e(t,n,r,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Ne&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,a){var i;return Math.max(r,((i=n.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var a=n.cells[r.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(a,i){var o=r.cells[i.index];if(!o)return 0;var u=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),s=l+u;return s>a?s:a},0)},e}(),Ue=function(){function e(t,n,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",u=/\r\n|\r|\n/g;this.text=o.split(u)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*n,i=r*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=zt(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),oa=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,a=t.allRows();r<a.length;r++){var i=a[r],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function sa(e,t){ua(e,t);var n=[],r=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,n.push(i)),r+=i.width});var a=t.getWidth(e.pageSize().width)-r;a&&(a=Kt(n,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=Kt(n,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),fa(t),da(t,e),la(t)}function ua(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,a=ze(e,t);t.allRows().forEach(function(i){for(var o=0,u=t.columns;o<u.length;o++){var l=u[o],s=i.cells[l.index];if(s){var f=t.hooks.didParseCell;t.callCellHooks(e,f,s,i,l,null);var h=s.padding("horizontal");s.contentWidth=Nt(s.text,s.styles,e)+h;var y=Nt(s.text.join(" ").split(/[^\S\u00A0]+/),s.styles,e);if(s.minReadableWidth=y+s.padding("horizontal"),typeof s.styles.cellWidth=="number")s.minWidth=s.styles.cellWidth,s.wrappedWidth=s.styles.cellWidth;else if(s.styles.cellWidth==="wrap"||r===!0)s.contentWidth>a?(s.minWidth=a,s.wrappedWidth=a):(s.minWidth=s.contentWidth,s.wrappedWidth=s.contentWidth);else{var w=10/n;s.minWidth=s.styles.minCellWidth||w,s.wrappedWidth=s.contentWidth,s.minWidth>s.wrappedWidth&&(s.wrappedWidth=s.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,u=t.columns;o<u.length;o++){var l=u[o],s=i.cells[l.index];if(s&&s.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,s.wrappedWidth),l.minWidth=Math.max(l.minWidth,s.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,s.minReadableWidth);else{var f=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},h=f.cellWidth||f.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}s&&(s.colSpan>1&&!l.minWidth&&(l.minWidth=s.minWidth),s.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=s.minWidth))}})}function Kt(e,t,n){for(var r=t,a=e.reduce(function(w,D){return w+D.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],u=o.wrappedWidth/a,l=r*u,s=o.width+l,f=n(o),h=s<f?f:s;t-=h-o.width,o.width=h}if(t=Math.round(t*1e10)/1e10,t){var y=e.filter(function(w){return t<0?w.width>n(w):!0});y.length&&(t=Kt(y,t,n))}return t}function la(e){for(var t={},n=1,r=e.allRows(),a=0;a<r.length;a++)for(var i=r[a],o=0,u=e.columns;o<u.length;o++){var l=u[o],s=t[l.index];if(n>1)n--,delete i.cells[l.index];else if(s)s.cell.height+=i.height,n=s.cell.colSpan,delete i.cells[l.index],s.left--,s.left<=1&&delete t[l.index];else{var f=i.cells[l.index];if(!f)continue;if(f.height=i.height,f.rowSpan>1){var h=r.length-a,y=f.rowSpan>h?h:f.rowSpan;t[l.index]={cell:f,left:y,row:i}}}}}function fa(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],a=null,i=0,o=0,u=0;u<e.columns.length;u++){var l=e.columns[u];if(o-=1,o>1&&e.columns[u+1])i+=l.width,delete r.cells[l.index];else if(a){var s=a;delete r.cells[l.index],a=null,s.width=l.width+i}else{var s=r.cells[l.index];if(!s)continue;if(o=s.colSpan,i=0,s.colSpan>1){a=s,i+=l.width;continue}s.width=l.width+i}}}function da(e,t){for(var n={count:0,height:0},r=0,a=e.allRows();r<a.length;r++){for(var i=a[r],o=0,u=e.columns;o<u.length;o++){var l=u[o],s=i.cells[l.index];if(s){t.applyStyles(s.styles,!0);var f=s.width-s.padding("horizontal");if(s.styles.overflow==="linebreak")s.text=t.splitTextToSize(s.text,f+1/t.scaleFactor(),{fontSize:s.styles.fontSize});else if(s.styles.overflow==="ellipsize")s.text=we(s.text,f,s.styles,t,"...");else if(s.styles.overflow==="hidden")s.text=we(s.text,f,s.styles,t,"");else if(typeof s.styles.overflow=="function"){var h=s.styles.overflow(s.text,f);typeof h=="string"?s.text=[h]:s.text=h}s.contentHeight=s.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var y=s.contentHeight/s.rowSpan;s.rowSpan>1&&n.count*n.height<y*s.rowSpan?n={height:y,count:s.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>i.height&&(i.height=y)}}n.count--}}function we(e,t,n,r,a){return e.map(function(i){return ha(i,t,n,r,a)})}function ha(e,t,n,r,a){var i=1e4*r.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Nt(e,n,r))return e;for(;t<Nt(e+a,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function qe(e,t){var n=new xt(e),r=ca(t,n.scaleFactor()),a=new ia(t,r);return sa(n,a),n.applyStyles(n.userStyles),a}function ca(e,t){var n=e.content,r=ma(n.columns);if(n.head.length===0){var a=be(r,"head");a&&n.head.push(a)}if(n.foot.length===0){var a=be(r,"foot");a&&n.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:r,head:Qt("head",n.head,r,o,i,t),body:Qt("body",n.body,r,o,i,t),foot:Qt("foot",n.foot,r,o,i,t)}}function Qt(e,t,n,r,a,i){var o={},u=t.map(function(l,s){for(var f=0,h={},y=0,w=0,D=0,H=n;D<H.length;D++){var T=H[D];if(o[T.index]==null||o[T.index].left===0)if(w===0){var Q=void 0;Array.isArray(l)?Q=l[T.index-y-f]:Q=l[T.dataKey];var Z={};typeof Q=="object"&&!Array.isArray(Q)&&(Z=(Q==null?void 0:Q.styles)||{});var k=va(e,T,s,a,r,i,Z),C=new Ue(Q,k,e);h[T.dataKey]=C,h[T.index]=C,w=C.colSpan-1,o[T.index]={left:C.rowSpan-1,times:w}}else w--,y++;else o[T.index].left--,w=o[T.index].times,f++}return new Ie(l,s,e,h)});return u}function be(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var a=ga(t,r.raw);a!=null&&(n[r.dataKey]=a)}}),Object.keys(n).length>0?n:null}function ga(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function ma(e){return e.map(function(t,n){var r,a;return typeof t=="object"?a=(r=t.dataKey)!==null&&r!==void 0?r:n:a=n,new oa(a,t,n)})}function va(e,t,n,r,a,i,o){var u=Ur(r),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var s=dt({},u.table,u[e],a.styles,l),f=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},h=e==="body"?f:{},y=e==="body"&&n%2===0?dt({},u.alternateRow,a.alternateRowStyles):{},w=Ir(i),D=dt({},w,s,y,h);return dt(D,o)}function pa(e,t,n){var r;n===void 0&&(n={});var a=ze(e,t),i=new Map,o=[],u=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(y){var w=t.columns.find(function(D){return D.dataKey===y||D.index===y});w&&!i.has(w.index)&&(i.set(w.index,!0),o.push(w.index),u.push(t.columns[w.index]),a-=w.wrappedWidth)});for(var s=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<t.columns.length;){if(i.has(f)){f++;continue}var h=t.columns[f].wrappedWidth;if(s||a>=h)s=!1,o.push(f),u.push(t.columns[f]),a-=h;else break;f++}return{colIndexes:o,columns:u,lastIndex:f-1}}function ya(e,t){for(var n=[],r=0;r<t.columns.length;r++){var a=pa(e,t,{start:r});a.columns.length&&(n.push(a),r=a.lastIndex)}return n}function Ge(e,t){var n=t.settings,r=n.startY,a=n.margin,i={x:a.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=r+a.bottom+o;if(n.pageBreak==="avoid"){var l=t.body,s=l.reduce(function(y,w){return y+w.height},0);u+=s}var f=new xt(e);(n.pageBreak==="always"||n.startY!=null&&u>f.pageSize().height)&&(Xe(f),i.y=a.top),t.callWillDrawPageHooks(f,i);var h=dt({},i);t.startPageNumber=f.pageNumber(),n.horizontalPageBreak?wa(f,t,h,i):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(y){return ht(f,t,y,i,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(y,w){var D=w===t.body.length-1;Lt(f,t,y,D,h,i,t.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(y){return ht(f,t,y,i,t.columns)})),Le(f,t,h,i),t.callEndPageHooks(f,i),t.finalY=i.y,e.lastAutoTable=t,f.applyStyles(f.userStyles)}function wa(e,t,n,r){var a=ya(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(s,f){e.applyStyles(e.userStyles),f>0?Ct(e,t,n,r,s.columns,!0):Se(e,t,r,s.columns),ba(e,t,n,r,s.columns),Xt(e,t,r,s.columns)});else for(var o=-1,u=a[0],l=function(){var s=o;if(u){e.applyStyles(e.userStyles);var f=u.columns;o>=0?Ct(e,t,n,r,f,!0):Se(e,t,r,f),s=xe(e,t,o+1,r,f),Xt(e,t,r,f)}var h=s-o;a.slice(1).forEach(function(y){e.applyStyles(e.userStyles),Ct(e,t,n,r,y.columns,!0),xe(e,t,o+1,r,y.columns,h),Xt(e,t,r,y.columns)}),o=s};o<t.body.length-1;)l()}function Se(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return ht(e,t,i,n,r)})}function ba(e,t,n,r,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var u=o===t.body.length-1;Lt(e,t,i,u,n,r,a)})}function xe(e,t,n,r,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(n+i,t.body.length),u=-1;return t.body.slice(n,o).forEach(function(l,s){var f=n+s===t.body.length-1,h=Qe(e,t,f,r);l.canEntireRowFit(h,a)&&(ht(e,t,l,r,a),u=n+s)}),u}function Xt(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return ht(e,t,i,n,r)})}function Sa(e,t,n){var r=n.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/r);return Math.max(0,i)}function xa(e,t,n,r){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,u=n.columns;o<u.length;o++){var l=u[o],s=e.cells[l.index];if(s){Array.isArray(s.text)||(s.text=[s.text]);var f=new Ue(s.raw,s.styles,s.section);f=dt(f,s),f.text=[];var h=Sa(s,t,r);s.text.length>h&&(f.text=s.text.splice(h,s.text.length));var y=r.scaleFactor(),w=r.getLineHeightFactor();s.contentHeight=s.getContentHeight(y,w),s.contentHeight>=t&&(s.contentHeight=t,f.styles.minCellHeight-=t),s.contentHeight>e.height&&(e.height=s.contentHeight),f.contentHeight=f.getContentHeight(y,w),f.contentHeight>i&&(i=f.contentHeight),a[l.index]=f}}var D=new Ie(e.raw,-1,e.section,a,!0);D.height=i;for(var H=0,T=n.columns;H<T.length;H++){var l=T[H],f=D.cells[l.index];f&&(f.height=D.height);var s=e.cells[l.index];s&&(s.height=e.height)}return D}function Da(e,t,n,r){var a=e.pageSize().height,i=r.settings.margin,o=i.top+i.bottom,u=a-o;t.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=t.getMinimumRowHeight(r.columns,e),s=l<n;if(l>u)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!s)return!1;var f=t.hasRowSpan(r.columns),h=t.getMaxCellHeight(r.columns)>u;return h?(f&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function Lt(e,t,n,r,a,i,o){var u=Qe(e,t,r,i);if(n.canEntireRowFit(u,o))ht(e,t,n,i,o);else if(Da(e,n,u,t)){var l=xa(n,u,t,e);ht(e,t,n,i,o),Ct(e,t,a,i,o),Lt(e,t,l,r,a,i,o)}else Ct(e,t,a,i,o),Lt(e,t,n,r,a,i,o)}function ht(e,t,n,r,a){r.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var u=o[i],l=n.cells[u.index];if(!l){r.x+=u.width;continue}e.applyStyles(l.styles),l.x=r.x,l.y=r.y;var s=t.callCellHooks(e,t.hooks.willDrawCell,l,n,u,r);if(s===!1){r.x+=u.width;continue}Pa(e,l,r);var f=l.getTextPos();Ye(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,u,r),r.x+=u.width}r.y+=n.height}function Pa(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=Re(r.lineWidth,r.fillColor);a&&e.rect(t.x,n.y,t.width,t.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),Ma(e,t,n,r.lineWidth))}function Ma(e,t,n,r){var a,i,o,u;r.top&&(a=n.x,i=n.y,o=n.x+t.width,u=n.y,r.right&&(o+=.5*r.right),r.left&&(a-=.5*r.left),l(r.top,a,i,o,u)),r.bottom&&(a=n.x,i=n.y+t.height,o=n.x+t.width,u=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(a-=.5*r.left),l(r.bottom,a,i,o,u)),r.left&&(a=n.x,i=n.y,o=n.x,u=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(u+=.5*r.bottom),l(r.left,a,i,o,u)),r.right&&(a=n.x+t.width,i=n.y,o=n.x+t.width,u=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(u+=.5*r.bottom),l(r.right,a,i,o,u));function l(s,f,h,y,w){e.getDocument().setLineWidth(s),e.getDocument().line(f,h,y,w,"S")}}function Qe(e,t,n,r){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&n)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-a}function Ct(e,t,n,r,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(u){return ht(e,t,u,r,a)}),t.callEndPageHooks(e,r);var o=t.settings.margin;Le(e,t,n,r),Xe(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return ht(e,t,u,r,a)}),e.applyStyles(e.userStyles))}function Xe(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function ka(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],a=je(this,r),i=qe(this,a);return Ge(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,a){Ye(t,n,r,a,this)},e.API.autoTableSetDefaults=function(t){return xt.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){xt.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new xt(this),i=Ae(a,t,window,n,!1),o=i.head,u=i.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(s){return s.content}))||[];return{columns:l,rows:u,data:u}}}var Jt;function Ca(e,t){var n=je(e,t),r=qe(e,n);Ge(e,r)}try{if(typeof window<"u"&&window){var De=window,Pe=De.jsPDF||((Jt=De.jspdf)===null||Jt===void 0?void 0:Jt.jsPDF);Pe&&ka(Pe)}}catch(e){console.error("Could not apply autoTable plugin",e)}var Wa=ot('<p class="text-error svelte-1mce55p"> </p>'),Fa=ot('<tr><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"><button class="svelte-1mce55p">Explain</button></td></tr>'),Ta=ot('<td class="svelte-1mce55p"> </td>'),Oa=ot('<tr><!><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"> </td><td class="svelte-1mce55p"> </td></tr>'),Ea=ot('<div class="modal svelte-1mce55p"><div class="modal-box svelte-1mce55p"><h3 class="svelte-1mce55p"> </h3> <div class="modal-table"><table class="table table-sm table-bordered svelte-1mce55p"><thead><tr><th class="svelte-1mce55p">Month</th><th class="svelte-1mce55p">Date Letter Sent</th><th class="svelte-1mce55p">Date Effective</th><th class="svelte-1mce55p">Resident Portion</th><th class="svelte-1mce55p">Subsidy Portion</th><th class="svelte-1mce55p">Status</th><th class="svelte-1mce55p">Invalidated By</th></tr></thead><tbody></tbody></table></div> <div class="modal-action"><button class="btn svelte-1mce55p">Close</button></div></div></div>'),$a=ot('<div class="container svelte-1mce55p"><div class="controls svelte-1mce55p"><div class="date-range svelte-1mce55p"><label for="startMonth">Start Month:</label> <input id="startMonth" type="month" class="svelte-1mce55p"> <label for="endMonth">End Month:</label> <input id="endMonth" type="month" class="svelte-1mce55p"></div> <input type="file" accept=".csv" class="svelte-1mce55p"> <!> <button class="btn svelte-1mce55p">Generate PDF Report</button></div> <table class="svelte-1mce55p"><thead><tr><th class="svelte-1mce55p">Unit</th><th class="svelte-1mce55p">Month</th><th class="svelte-1mce55p">Resident</th><th class="svelte-1mce55p">Subsidy</th><th class="svelte-1mce55p">Details</th></tr></thead><tbody></tbody></table> <!></div>');function Ha(e,t){te(t,!1),V.extend(jr);let n=[],r=ft({}),a=ft(""),i=ft(V().subtract(6,"month").format("YYYY-MM")),o=ft(V().add(6,"month").format("YYYY-MM")),u=ft(null);function l(v,g){const d=[];for(let c=0;c<v.length;c+=g)d.push(v.slice(c,c+g));return d}function s(v){var d;const g=(d=v.target.files)==null?void 0:d[0];y(),g&&re.parse(g,{header:!0,skipEmptyLines:!0,complete:c=>{if(c.errors.length>0){rt(a,"Error parsing CSV file. Please check the file format.");return}n=c.data.map(p=>({unitNumber:p["Unit Number"],dateLetterSent:p["Date Letter Sent"],dateEffective:p["Date Effective"],residentPortion:parseFloat(p["Resident Portion"])||0,subsidyPortion:parseFloat(p["Subsidy Portion"])||0})),f()}})}function f(){const v={};n.forEach(g=>{v[g.unitNumber]||(v[g.unitNumber]=[]),v[g.unitNumber].push(g)}),rt(r,{}),Object.keys(v).forEach(g=>{let d=v[g];d.sort((m,x)=>V(m.dateLetterSent).diff(V(x.dateLetterSent)));let c=V(W(i));const p=V(W(o));for(Me(r,W(r)[g]=[]);c.isSameOrBefore(p,"month");){const m=d.filter(M=>V(M.dateEffective).isSameOrBefore(c,"month")&&V(M.dateLetterSent).isSameOrBefore(c.endOf("month"))),x=m.map((M,Y,F)=>({dateLetterSent:M.dateLetterSent,dateEffective:M.dateEffective,residentPortion:M.residentPortion,subsidyPortion:M.subsidyPortion,status:Y<F.length-1?"Invalidated":"In Effect",invalidatedBy:Y<F.length-1?F[Y+1].dateLetterSent:null})),b=m[m.length-1]||null;W(r)[g].push({month:c.format("MMM YYYY"),residentPortion:(b==null?void 0:b.residentPortion)||0,subsidyPortion:(b==null?void 0:b.subsidyPortion)||0,explanation:x}),c=c.add(1,"month")}})}function h(v,g){rt(u,{unit:v,monthData:g})}function y(){rt(u,null)}function w(){const v=new ae("p","pt"),g=30;let d=40;const c=v.internal.pageSize.getHeight();v.setFontSize(12),v.text("Monthly Breakdown Report",g,d),d+=20;let m=(Object.values(W(r))[0]||[]).map(P=>P.month);if(!m.length){let P=V(W(i));const R=V(W(o));for(;P.isSameOrBefore(R,"month");)m.push(P.format("MMM YYYY")),P=P.add(1,"month")}const b=l(m,6);for(let P=0;P<b.length;P+=2){P>0&&(v.addPage(),d=40);const R=b[P];d=D(v,R,d);const j=b[P+1];j&&(d+=20,d=D(v,j,d))}Object.entries(W(r)).forEach(([P,R])=>{v.addPage(),d=40,v.setFontSize(10),v.text("Explanation for Unit: "+P,g,d),d+=16,v.setFontSize(8);const j=v.internal.pageSize.getWidth()-(g+30)-30,U=10;R.forEach(q=>{const J=q.explanation.find(X=>X.status==="In Effect"),G=q.explanation.filter(X=>X.status==="Invalidated");let tt=10,lt=J?`Resident: ${J.residentPortion}, Subsidy: ${J.subsidyPortion} | Letter Sent: ${J.dateLetterSent}, Effective: ${J.dateEffective}, Status: ${J.status}`:"";const it=lt?v.splitTextToSize(lt,j):[];if(tt+=it.length*U+4,G.forEach(X=>{let mt=`Resident: ${X.residentPortion}, Subsidy: ${X.subsidyPortion} | Letter Sent: ${X.dateLetterSent}, Effective: ${X.dateEffective}, Status: ${X.status}`+(X.invalidatedBy?`, Invalidated By: ${X.invalidatedBy}`:"");const pt=v.splitTextToSize(mt,j);tt+=pt.length*U+4}),d+tt>c-40&&(v.addPage(),d=40,v.setFontSize(10),v.text("Explanation for Unit: "+P+" (cont.)",g,d),d+=16,v.setFontSize(8)),v.text(q.month+":",g+15,d),d+=10,it.length>0){const X=it.length*U;v.setFillColor(255,255,153),v.rect(g+30,d-8,j,X,"F"),v.setTextColor(0,0,0),v.text(it,g+30,d),d+=X+4}G.forEach(X=>{let mt=`Resident: ${X.residentPortion}, Subsidy: ${X.subsidyPortion} | Letter Sent: ${X.dateLetterSent}, Effective: ${X.dateEffective}, Status: ${X.status}`+(X.invalidatedBy?`, Invalidated By: ${X.invalidatedBy}`:"");const pt=v.splitTextToSize(mt,j);v.text(pt,g+30,d),d+=pt.length*U+4})})}),v.addPage(),d=40,v.setFontSize(12),v.text("Timeline and Graphs",g,d),d+=20;const M={};n.forEach(P=>{M[P.unitNumber]||(M[P.unitNumber]=[]),M[P.unitNumber].push(P)}),Object.keys(M).forEach(P=>{M[P].sort((R,j)=>V(R.dateLetterSent).diff(V(j.dateLetterSent)))});const Y=Object.keys(M);let F=0;for(const P of Y)F>=5&&(v.addPage(),d=40,F=0),d=H(v,P,M[P],d,g),F++,d+=20;v.save("report.pdf")}function D(v,g,d){const c=[{content:"Unit Number",rowSpan:2,styles:{halign:"center"}}];g.forEach(x=>{c.push({content:x,colSpan:2,styles:{halign:"center"}})});const p=[];g.forEach(()=>{p.push({content:"Resident",styles:{halign:"center"}}),p.push({content:"Subsidy",styles:{halign:"center"}})});const m=[];return Object.entries(W(r)).forEach(([x,b])=>{const M=[x];g.forEach(Y=>{const F=b.find(P=>P.month===Y);F?(M.push(F.residentPortion),M.push(F.subsidyPortion)):(M.push(""),M.push(""))}),m.push(M)}),Ca(v,{startY:d,theme:"grid",head:[c,p],body:m,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontSize:8},columnStyles:{0:{cellWidth:80}},tableWidth:"wrap"}),v.lastAutoTable.finalY}function H(v,g,d,c,p){let m=c;v.setFontSize(10),v.text("Timeline for Unit: "+g,p,m),m+=14;let x=V(d[0].dateLetterSent),b=V(d[0].dateEffective);d.forEach(j=>{const U=V(j.dateLetterSent),q=V(j.dateEffective);U.isBefore(x)&&(x=U),q.isBefore(x)&&(x=q),U.isAfter(b)&&(b=U),q.isAfter(b)&&(b=q)});const Y=v.internal.pageSize.getWidth()-2*p,F=m+20;v.setDrawColor(0,0,0),v.line(p,F,p+Y,F);let P=b.diff(x,"days");P===0&&(P=1);let R=x.startOf("month");for(;R.isBefore(b)||R.isSame(b);){const j=p+R.diff(x,"days")/P*Y;let U=R.format("MMM");(R.isSame(x.startOf("month"))||R.month()===0)&&(U=R.format("MMM YYYY")),v.setFontSize(8),v.text(U,j,F+30,{align:"center"}),R=R.add(1,"month")}return d.forEach(j=>{const U=V(j.dateLetterSent),q=V(j.dateEffective),J=p+U.diff(x,"days")/P*Y,G=p+q.diff(x,"days")/P*Y;v.setFillColor(0,0,0),v.circle(J,F-10,3,"F"),v.setFontSize(8),v.text(U.format("MMM D"),J,F-15,{align:"center"}),v.circle(G,F+10,3,"F"),v.text(q.format("MMM D"),G,F+20,{align:"center"}),v.line(J,F-10,G,F+10)}),m=F+40,m}ne();var T=$a(),Q=L(T),Z=L(Q),k=_(L(Z),2);Ht(k);var C=_(k,4);Ht(C),$(Z);var E=_(Z,2),S=_(E,2);{var O=v=>{var g=Wa(),d=L(g,!0);$(g),gt(()=>K(d,W(a))),et(v,g)};kt(S,v=>{W(a)&&v(O)})}var A=_(S,2);$(Q);var z=_(Q,2),B=_(L(z));bt(B,5,()=>Object.entries(W(r)),St,(v,g)=>{let d=()=>W(g)[0],c=()=>W(g)[1];var p=oe(),m=$t(p);bt(m,1,c,St,(x,b)=>{var M=Fa(),Y=L(M),F=L(Y,!0);$(Y);var P=_(Y),R=L(P,!0);$(P);var j=_(P),U=L(j,!0);$(j);var q=_(j),J=L(q,!0);$(q);var G=_(q),tt=L(G);$(G),$(M),gt(()=>{K(F,d()),K(R,W(b).month),K(U,W(b).residentPortion),K(J,W(b).subsidyPortion)}),ut("click",tt,()=>h(d(),c())),et(x,M)}),et(v,p)}),$(B),$(z);var N=_(z,2);{var at=v=>{var g=Ea(),d=L(g),c=L(d),p=L(c);$(c);var m=_(c,2),x=L(m),b=_(L(x));bt(b,5,()=>W(u).monthData,St,(F,P)=>{var R=oe(),j=$t(R);bt(j,1,()=>W(P).explanation,St,(U,q,J)=>{var G=Oa(),tt=L(G);{var lt=It=>{var Ft=Ta(),tn=L(Ft,!0);$(Ft),gt(()=>{ke(Ft,"rowspan",W(P).explanation.length),K(tn,W(P).month)}),et(It,Ft)};kt(tt,It=>{J===0&&It(lt)})}var it=_(tt),X=L(it,!0);$(it);var mt=_(it),pt=L(mt,!0);$(mt);var Bt=_(mt),Je=L(Bt,!0);$(Bt);var At=_(Bt),Ve=L(At,!0);$(At);var jt=_(At),Ze=L(jt,!0);$(jt);var ie=_(jt),Ke=L(ie,!0);$(ie),$(G),gt(()=>{K(X,W(q).dateLetterSent),K(pt,W(q).dateEffective),K(Je,W(q).residentPortion),K(Ve,W(q).subsidyPortion),K(Ze,W(q).status),K(Ke,W(q).invalidatedBy||"-")}),et(U,G)}),et(F,R)}),$(b),$(x),$(m);var M=_(m,2),Y=L(M);$(M),$(d),$(g),gt(()=>K(p,`Explanation for Unit ${W(u).unit??""}`)),ut("click",Y,y),et(v,g)};kt(N,v=>{W(u)&&v(at)})}$(T),Yt(k,()=>W(i),v=>rt(i,v)),ut("change",k,f),Yt(C,()=>W(o),v=>rt(o,v)),ut("change",C,f),ut("change",E,s),ut("click",A,w),et(e,T),ee()}var Ya=ot("<!> <hr> <!> <hr> <!>",1);function Xa(e){var t=Ya(),n=$t(t);Ha(n,{});var r=_(n,4);$r(r,{});var a=_(r,4);_r(a,{}),et(e,t)}export{Xa as component};
