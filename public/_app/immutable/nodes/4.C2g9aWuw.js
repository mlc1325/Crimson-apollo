import{t as U,a as w,c as St}from"../chunks/DjVNrhRO.js";import"../chunks/BbcAQZ-t.js";import{p as Ut,a,c as n,r as l,g as t,h as d,j as g,s as c,b as kt,i as S,aj as ot,f as At}from"../chunks/Dtbr3opF.js";import{s as A}from"../chunks/D0Vkali-.js";import{i as G}from"../chunks/DIZ7JNA_.js";import{e as W,i as X}from"../chunks/BZtUa7kc.js";import{c as qt}from"../chunks/C-IBEh_4.js";import{e as h}from"../chunks/BKi0Csyz.js";import{r as F}from"../chunks/tH0U2CTM.js";import{b as R}from"../chunks/Bo4MGM3Z.js";import{b as it}from"../chunks/Cdg-H_da.js";import{i as Dt}from"../chunks/IH6nDiQV.js";import{o as Ft}from"../chunks/vKJg5T3g.js";import{g as rt,c as H,d as $,a as V}from"../chunks/CIVQF7US.js";var Rt=U('<div class="form-group"><input type="text" placeholder="Client Name"> <button>Add</button></div>'),Ht=U("<option> </option>"),$t=U('<div class="form-group"><label for="selectedClient">Select Client:</label> <select id="selectedClient"><option disabled>Select a client</option><!></select> <input type="text" placeholder="Property Name"> <button>Add</button></div>'),jt=U("<option> </option>"),Et=U('<div class="form-group"><label for="selectProperty">Select Property:</label> <select id="selectProperty"><option disabled>Select a property</option><!></select> <input type="text" placeholder="Unit Number"> <input type="text" placeholder="Style"> <input type="number" placeholder="Square Footage"> <button>Add</button></div>'),Mt=U("<option> </option>"),Tt=U('<div class="form-group"><label for="selectUnit">Select Unit:</label> <select id="selectUnit"><option disabled>Select a unit</option><!></select> <input type="text" placeholder="Resident Name"> <input type="date"> <button>Add</button></div>'),zt=U('<div class="add-entry-container"><h2>Add New Entries</h2> <div class="collapsible"><button class="toggle-btn"> </button> <!></div> <div class="collapsible"><button class="toggle-btn"> </button> <!></div> <div class="collapsible"><button class="toggle-btn"> </button> <!></div> <div class="collapsible"><button class="toggle-btn"> </button> <!></div></div>');function Bt(Y,M){Ut(M,!1);let T=d([]),_=d(""),j=d([]),x=d(""),z=d([]),m=d(""),I=d(!1),f=d(!1),k=d(!1),E=d(!1),B=d({name:""}),q=d({name:"",clientId:""}),v=d({unitNumber:"",style:"",squareFootage:"",propertyId:""}),N=d({name:"",moveInDate:"",unitId:""});async function nt(){try{const o=await rt(H($,"clients"));c(T,o.docs.map(e=>{const i=e.data();return{id:e.id,...i}}))}catch{}}async function lt(){if(t(_))try{const o=await rt(H($,"properties"));c(j,o.docs.map(e=>{const i=e.data();return{id:e.id,...i}}).filter(e=>e.clientId===t(_)))}catch{}}async function st(){if(t(x))try{const o=await rt(H($,"units"));c(z,o.docs.map(e=>({id:e.id,...e.data()})).filter(e=>e.propertyId===t(x)))}catch{}}async function ct(){await V(H($,"clients"),t(B)),c(B,{name:""}),nt()}async function vt(){t(_)&&(S(q,t(q).clientId=t(_)),await V(H($,"properties"),t(q)),c(q,{name:"",clientId:""}),lt())}async function ut(){t(x)&&(S(v,t(v).propertyId=t(x)),await V(H($,"units"),t(v)),c(v,{unitNumber:"",style:"",squareFootage:"",propertyId:""}),st())}async function pt(){t(m)&&(S(N,t(N).unitId=t(m)),await V(H($,"residents"),t(N)),c(N,{name:"",moveInDate:"",unitId:""}))}Ft(()=>{nt()}),Dt();var Z=zt(),tt=a(n(Z),2),J=n(tt),_t=n(J,!0);l(J);var mt=a(J,2);{var bt=o=>{var e=Rt(),i=n(e);F(i);var u=a(i,2);l(e),R(i,()=>t(B).name,D=>S(B,t(B).name=D)),h("click",u,ct),w(o,e)};G(mt,o=>{t(I)&&o(bt)})}l(tt);var et=a(tt,2),K=n(et),ft=n(K,!0);l(K);var yt=a(K,2);{var gt=o=>{var e=$t(),i=a(n(e),2);g(()=>{t(_),ot(()=>{t(T)})});var u=n(i);u.value=((u.__value="")==null,"");var D=a(u);W(D,1,()=>t(T),X,(b,s)=>{var r=Ht(),p={},C=n(r,!0);l(r),g(()=>{p!==(p=t(s).id)&&(r.value=(r.__value=t(s).id)==null?"":t(s).id),A(C,t(s).name)}),w(b,r)}),l(i);var y=a(i,2);F(y);var P=a(y,2);l(e),g(()=>P.disabled=!t(_)),it(i,()=>t(_),b=>c(_,b)),h("change",i,lt),R(y,()=>t(q).name,b=>S(q,t(q).name=b)),h("click",P,vt),w(o,e)};G(yt,o=>{t(f)&&o(gt)})}l(et);var at=a(et,2),L=n(at),ht=n(L,!0);l(L);var wt=a(L,2);{var xt=o=>{var e=Et(),i=a(n(e),2);g(()=>{t(x),ot(()=>{t(j)})});var u=n(i);u.value=((u.__value="")==null,"");var D=a(u);W(D,1,()=>t(j),X,(r,p)=>{var C=jt(),Q={},Ct=n(C,!0);l(C),g(()=>{Q!==(Q=t(p).id)&&(C.value=(C.__value=t(p).id)==null?"":t(p).id),A(Ct,t(p).name)}),w(r,C)}),l(i);var y=a(i,2);F(y);var P=a(y,2);F(P);var b=a(P,2);F(b);var s=a(b,2);l(e),g(()=>s.disabled=!t(x)),it(i,()=>t(x),r=>c(x,r)),h("change",i,st),R(y,()=>t(v).unitNumber,r=>S(v,t(v).unitNumber=r)),R(P,()=>t(v).style,r=>S(v,t(v).style=r)),R(b,()=>t(v).squareFootage,r=>S(v,t(v).squareFootage=r)),h("click",s,ut),w(o,e)};G(wt,o=>{t(k)&&o(xt)})}l(at);var dt=a(at,2),O=n(dt),It=n(O,!0);l(O);var Nt=a(O,2);{var Pt=o=>{var e=Tt(),i=a(n(e),2);g(()=>{t(m),ot(()=>{t(z)})});var u=n(i);u.value=((u.__value="")==null,"");var D=a(u);W(D,1,()=>t(z),X,(s,r)=>{var p=Mt(),C={},Q=n(p);l(p),g(()=>{C!==(C=t(r).id)&&(p.value=(p.__value=t(r).id)==null?"":t(r).id),A(Q,`${t(r).unitNumber??""} - ${t(r).style??""}`)}),w(s,p)}),l(i);var y=a(i,2);F(y);var P=a(y,2);F(P);var b=a(P,2);l(e),g(()=>b.disabled=!t(m)),it(i,()=>t(m),s=>c(m,s)),R(y,()=>t(N).name,s=>S(N,t(N).name=s)),R(P,()=>t(N).moveInDate,s=>S(N,t(N).moveInDate=s)),h("click",b,pt),w(o,e)};G(Nt,o=>{t(E)&&o(Pt)})}l(dt),l(Z),g(()=>{A(_t,t(I)?"▲ Hide":"▼ Add Client"),A(ft,t(f)?"▲ Hide":"▼ Add Property"),A(ht,t(k)?"▲ Hide":"▼ Add Unit"),A(It,t(E)?"▲ Hide":"▼ Add Resident")}),h("click",J,()=>c(I,!t(I))),h("click",K,()=>c(f,!t(f))),h("click",L,()=>c(k,!t(k))),h("click",O,()=>c(E,!t(E))),w(Y,Z),kt()}var Gt=U("<button> </button>"),Jt=U('<div class="tabs"><!> <!></div>');function re(Y){let M=d(Bt);const T=[{collectionName:"clients",label:"Clients"},{collectionName:"Properties",label:"Properties"},{collectionName:"units",label:"Units"}];var _=Jt(),j=n(_);W(j,1,()=>T,X,(m,I)=>{var f=Gt(),k=n(f,!0);l(f),g(()=>A(k,t(I).display)),h("click",f,()=>c(M,t(I).component)),w(m,f)});var x=a(j,2);{var z=m=>{var I=St(),f=At(I);qt(f,()=>t(M),(k,E)=>{E(k,{})}),w(m,I)};G(x,m=>{t(M)&&m(z)})}l(_),w(Y,_)}export{re as component};
