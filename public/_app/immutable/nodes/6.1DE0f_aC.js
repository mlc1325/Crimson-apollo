import{t as R,a as L}from"../chunks/DjVNrhRO.js";import"../chunks/BbcAQZ-t.js";import{p as E,a as s,f as P,g as a,b as T,c as d,i as o,h as _,r as n,e as $,s as i,j as z}from"../chunks/Dtbr3opF.js";import{s as G}from"../chunks/D0Vkali-.js";import{i as H}from"../chunks/DIZ7JNA_.js";import{r as l}from"../chunks/tH0U2CTM.js";import{e as q}from"../chunks/BKi0Csyz.js";import{b as u}from"../chunks/Bo4MGM3Z.js";import{p as J}from"../chunks/CWmzcjye.js";import{i as K}from"../chunks/IH6nDiQV.js";import{r as M,s as N,u as O,b as Q,a as S,c as V,d as W}from"../chunks/CIVQF7US.js";var X=R("<p> </p>"),Y=R('<h2 class="text-xl font-bold mb-4">Leasing</h2> <form class="space-y-2 mb-4"><div><input placeholder="Property ID" required class="border px-2 py-1 rounded mr-2"> <input placeholder="Tenant UID" required class="border px-2 py-1 rounded"></div> <div><input type="date" required class="border px-2 py-1 rounded mr-2"> <input type="date" required class="border px-2 py-1 rounded"></div> <div><input type="number" placeholder="Rent Amount" required class="border px-2 py-1 rounded"></div> <div><input type="file" accept=".pdf,.png,.jpg" class="border px-2 py-1"></div> <button type="submit" class="bg-green-600 text-white px-3 py-1 rounded">Create Lease</button></form> <!>',1);function le(U,j){E(j,!1);let e=_({propertyId:"",tenantId:"",startDate:"",endDate:"",rent:0}),p=_(null),m=_("");async function F(){try{let t="";if(a(p)){const r=M(N,`leases/${a(p).name}`);await O(r,a(p)),t=await Q(r)}await S(V(W,"leases"),{propertyId:a(e).propertyId,tenantId:a(e).tenantId,startDate:a(e).startDate,endDate:a(e).endDate,rent:a(e).rent,fileUrl:t}),i(m,"Lease added successfully!"),i(e,{propertyId:"",tenantId:"",startDate:"",endDate:"",rent:0}),i(p,null)}catch(t){console.error("Error adding lease",t),i(m,"Failed to add lease: "+t)}}K();var D=Y(),c=s(P(D),2),f=d(c),v=d(f);l(v);var x=s(v,2);l(x),n(f);var y=s(f,2),b=d(y);l(b);var I=s(b,2);l(I),n(y);var g=s(y,2),h=d(g);l(h),n(g);var w=s(g,2),k=d(w);n(w),$(2),n(c);var A=s(c,2);{var B=t=>{var r=X(),C=d(r,!0);n(r),z(()=>G(C,a(m))),L(t,r)};H(A,t=>{a(m)&&t(B)})}u(v,()=>a(e).propertyId,t=>o(e,a(e).propertyId=t)),u(x,()=>a(e).tenantId,t=>o(e,a(e).tenantId=t)),u(b,()=>a(e).startDate,t=>o(e,a(e).startDate=t)),u(I,()=>a(e).endDate,t=>o(e,a(e).endDate=t)),u(h,()=>a(e).rent,t=>o(e,a(e).rent=t)),q("change",k,t=>{const r=t.target;r.files&&i(p,r.files[0])}),q("submit",c,J(F)),L(U,D),T()}export{le as component};
