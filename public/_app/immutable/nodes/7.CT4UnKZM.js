import{t as z,a as B}from"../chunks/DjVNrhRO.js";import"../chunks/BbcAQZ-t.js";import{p as k,ar as Z,as as O,j as A,g as s,b as W,a as u,c as D,h as U,s as _,aj as j,r as v}from"../chunks/Dtbr3opF.js";import{s as M}from"../chunks/D0Vkali-.js";import{e as V,i as G}from"../chunks/BZtUa7kc.js";import{r as Y}from"../chunks/tH0U2CTM.js";import{e as x}from"../chunks/BKi0Csyz.js";import{b as J}from"../chunks/Bo4MGM3Z.js";import{b as K}from"../chunks/Cdg-H_da.js";import{i as Q}from"../chunks/IH6nDiQV.js";import{E as X}from"../chunks/ClXSvq8k.js";import{P as ee}from"../chunks/BWME_Ccl.js";var te=z("<option> </option>"),ne=z('<div class="container svelte-1ensq17"><h3 class="svelte-1ensq17">Letter Generator</h3> <label for="property" class="svelte-1ensq17">Select a Property:</label> <select name="property" class="svelte-1ensq17"></select> <label for="csvUpload" class="svelte-1ensq17">Upload CSV:</label> <input type="file" id="csvUpload" accept=".csv" class="svelte-1ensq17"> <label for="balanceThreshold" class="svelte-1ensq17">Balance Threshold:</label> <input type="number" id="balanceThreshold" class="svelte-1ensq17"> <button class="download-button svelte-1ensq17">Download Template</button> <button class="download-button svelte-1ensq17">Generate PDF</button></div>');function ae(d,C){k(C,!1);let b=[],h=U(0);const c=[{id:"WS",propertyName:"Woodland Springs Apartments",streetAddress:"3111 S Leonard Springs Rd",cityStateZip:"Bloomington, IN 47403",propertyPhoneNumber:"812-336-5603",mailingAddress:"3111 S Leonard Springs Rd Bloomington, IN 47403"},{id:"SP",propertyName:"Summit Pointe Apartments",streetAddress:"701 Summitview Place",cityStateZip:"Bloomington, IN 47401",propertyPhoneNumber:"812-822-3034",mailingAddress:"701 Summitview Place Bloomington, IN 47401"},{id:"BW",propertyName:"Basswood Apartments",streetAddress:"1000 S Basswood Circle",cityStateZip:"Bloomington, IN 47403",propertyPhoneNumber:"812-333-9123",mailingAddress:"1000 S Basswood Circle Bloomington, IN 47403"},{id:"KM",propertyName:"Kingston Manor Apartments",streetAddress:"3200 E Longview Ave",cityStateZip:"Bloomington, IN 47408",propertyPhoneNumber:"812-822-0812",mailingAddress:"701 Summitview Place Bloomington, IN 47401"},{id:"NC",propertyName:"Northcrest Apartments",streetAddress:"1440 N Woodburn Ave",cityStateZip:"Bloomington, IN 47404",propertyPhoneNumber:"812-822-3178",mailingAddress:"701 Summitview Place Bloomington, IN 47401"},{id:"EL",propertyName:"El Dorado Apartments",streetAddress:"3621 Lawnview Lane",cityStateZip:"Indianapolis, IN 46222",propertyPhoneNumber:"317-636-7700",mailingAddress:"3621 Lawnview Lane Indianapolis, IN 46222"}];let g=U(c[0].id);const o={h3:18,pp:12},p={orientation:"p",unit:"pt",size:"letter",ppi:72,width:8.5*72},a={left:1*p.ppi,top:1*p.ppi,right:1*p.ppi};let m=p.width/2;const l={maxWidth:p.width-(a.left+a.right)};function N(e,n,i){let t=a.top;const r=parseFloat(n.balance).toLocaleString("en-US",{style:"currency",currency:"USD"}),f=new Date;e.setFontSize(o.pp),e.setFont("times","underlined"),e.text(i.propertyName,a.left,t,l),t+=e.getLineHeight(),e.text(i.streetAddress,a.left,t,l),t+=e.getLineHeight(),e.text(i.cityStateZip,a.left,t,l),t+=e.getLineHeight(),e.text(i.propertyPhoneNumber,a.left,t,l),t+=e.getLineHeight(),t+=e.getLineHeight(),e.text("Date: "+new Date().toLocaleDateString("en-US"),a.left,t,l),t+=e.getLineHeight(),e.text("Unit: "+n.unitNumber,a.left,t,l),t+=e.getLineHeight(),e.text("Resident: "+n.name,a.left,t,l),t+=e.getLineHeight()*3,e.setFontSize(o.h3),e.setFont("times"),e.text("Notice to Vacate for Nonpayment",m,t,{...l,align:"center"}),t+=e.getLineHeight(),e.setFontSize(o.pp),e.text("Dear Resident,",a.left,t,l),t+=e.getLineHeight();const E=`          You are hereby notified that you are not complying with your lease in that you are late on your rent for the payment(s) of ${r} due on ${f.getMonth()+1}/1/${f.getFullYear()}`;e.text(E,a.left,t,l),t+=e.getLineHeight()*3,e.text("You have 10 days ending on "+new Date(Date.now()+10*24*60*60*1e3).toLocaleDateString("en-US")+" to make payment in full to the following:",a.left,t,l),t+=e.getLineHeight()*2,e.text("Payable to: "+i.propertyName,a.left*2,t,l),t+=e.getLineHeight(),e.text("Address: "+i.mailingAddress,a.left*2,t,l),t+=e.getLineHeight()*3,e.setFontSize(o.h3,"bold"),e.text("Or vacate the premises",m,t,void 0,void 0,"center"),t+=e.getLineHeight()*2,e.setFontSize(o.pp,"bold"),e.text("Please note that late fees are assessed on the 6th and the 10th of each month.",a.left,t),t+=e.getLineHeight(),e.text("- on the 6th your balance will be: $"+parseFloat(n.balance+50).toFixed(2),a.left*1.5,t),t+=e.getLineHeight(),e.text("- on the 10th your balance will be: $"+parseFloat(n.balance+125).toFixed(2),a.left*1.5,t),t+=e.getLineHeight()*4,e.setFontSize(o.pp,"normal")}function w(e,n,i){let t=a.top;const r=parseFloat(n.balance).toLocaleString("en-US",{style:"currency",currency:"USD"});e.setFontSize(o.pp),e.setFont("times","underlined"),e.text(i.propertyName,a.left,t,l),t+=e.getLineHeight(),e.text(i.streetAddress,a.left,t,l),t+=e.getLineHeight(),e.text(i.cityStateZip,a.left,t,l),t+=e.getLineHeight(),e.text(i.propertyPhoneNumber,a.left,t,l),t+=e.getLineHeight(),t+=e.getLineHeight(),e.text("Date: "+new Date().toLocaleDateString("en-US"),a.left,t,l),t+=e.getLineHeight(),e.text("Unit: "+n.unitNumber,a.left,t,l),t+=e.getLineHeight(),e.text("Resident: "+n.name,a.left,t,l),t+=e.getLineHeight()*3,e.setFontSize(o.h3),e.setFont("times"),e.text("Notice of current balance",m,t,{...l,align:"center"}),t+=e.getLineHeight(),e.setFontSize(o.pp),e.text("Dear Resident,",a.left,t,l),t+=e.getLineHeight();const P=`          You are hereby notified that you currently have a balance of ${r}. Please resolve this promptly to avoid late fees and any other possible actions or remedys. Please note that we only accept payment in full. Any future rent will not be accepted until this is fulfilled.`;e.text(P,a.left,t,l),t+=e.getLineHeight()*3,t+=e.getLineHeight(),e.text("Payable to: "+i.propertyName,a.left*2,t,l),t+=e.getLineHeight(),e.text("Address: "+i.mailingAddress,a.left*2,t,l),t+=e.getLineHeight()*3,e.setFontSize(o.h3,"bold"),e.setFontSize(o.pp,"bold"),e.text("Please note that late fees are assessed on the 6th ($50.00) and the 10th ($75.00) of each month.",a.left,t),t+=e.getLineHeight(),e.text("- on the 6th your balance will be: $"+parseFloat(n.balance+50).toFixed(2),a.left*1.5,t),t+=e.getLineHeight(),e.text("- on the 10th your balance will be: $"+parseFloat(n.balance+125).toFixed(2),a.left*1.5,t),t+=e.getLineHeight()*4,e.setFontSize(o.pp,"normal")}function I(e){let n=a.top;e.setFontSize(24),e.text("Letter Summary",m,n,{align:"center"}),n+=30,e.setFontSize(12);const i=new Date().toLocaleDateString("en-US");e.text(`Sent on: ${i}`,a.left,n),n+=20,e.text("Unit",a.left,n),e.text("Balance",a.left+70,n),e.text("Letter Type",a.left+140,n),n+=15,b.forEach(t=>{const r=t.balance>s(h)?"Notice to Vacate for Nonpayment":"Notice of current balance",f=parseFloat(t.balance).toLocaleString("en-US",{style:"currency",currency:"USD"});e.text(`${t.unitNumber}`,a.left,n),e.text(`${f}`,a.left+70,n),e.text(r,a.left+140,n),n+=15}),e.addPage()}const R=()=>{const e=c.find(i=>i.id===s(g));if(!e)return;const n=new X(p.orientation,p.unit,p.size,!0);I(n),n.text("Distribution",m,200,{align:"center"}),b.forEach(i=>{i.balance>s(h)?(n.addPage(),N(n,i,e)):(n.addPage(),w(n,i,e))}),n.addPage(),n.text("Office Copy",m,200,{align:"center"}),b.forEach(i=>{i.balance>s(h)?(n.addPage(),N(n,i,e)):(n.addPage(),w(n,i,e))}),window.open(URL.createObjectURL(n.output("blob")))};function $(e){let n="";n=`Unit Number,Resident Name,Balance
  101,John Doe,100
  102,Jane Smith,200
  103,Bob Brown,300
  104,Alice Johnson,400
  105,Tom White,500
  106,Emily Davis,600
  107,Michael Green,700
  108,Susan Black,800
  109,Chris Blue,900
  110,Laura Orange,1000
  111,Kevin Purple,1100
  112,Nancy Gold,1200
  113,Mark Red,1300
  114,Lucy Blue,1400
  115,David Black,1500`;const i=new Blob([n],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(i),r=document.createElement("a");r.style.display="none",r.href=t,r.download="TemplateCombined.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}const T=e=>{const n=e.target,i=n.files?n.files[0]:null;i&&ee.parse(i,{header:!0,complete:t=>{b=t.data.map(r=>({unitNumber:r["Unit Number"],name:r["Resident Name"],balance:parseFloat(r.Balance)}))},error:t=>{console.error("Error parsing CSV:",t)}})};Z(()=>s(g),()=>{console.log(s(g))}),O(),Q();var S=ne(),y=u(D(S),4);A(()=>{s(g),j(()=>{})}),V(y,5,()=>c,G,(e,n)=>{var i=te(),t={},r=D(i);v(i),A(()=>{t!==(t=s(n).id)&&(i.value=(i.__value=s(n).id)==null?"":s(n).id),M(r,`${s(n).propertyName??""} (${s(n).id??""})`)}),B(e,i)}),v(y);var F=u(y,4),L=u(F,4);Y(L);var H=u(L,2),q=u(H,2);v(S),K(y,()=>s(g),e=>_(g,e)),x("change",F,T),J(L,()=>s(h),e=>_(h,e)),x("click",H,()=>$()),x("click",q,R),B(d,S),W()}function ye(d){ae(d,{})}export{ye as component};
